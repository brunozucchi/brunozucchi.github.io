<!DOCTYPE html>
<html lang='es'>
    <head>
        <meta charset='UTF-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1.0'>
        <title>Challenge Encriptador</title>
        <link rel='stylesheet' href='style.css'>

        

    </head>
    
    <body>
        <header>
            <h1><img id='logo' src='images/logo.png'></h1>
        </header>
        <div>
          <textarea id='texto' placeholder='>>Ingrese su texto aquí.<<'></textarea>
          <output id='aclaracion'>(!) Solo letras minúsculas y sin acentos</output>
          <button id='encriptar'>Encriptar</button>
          <button id='desencriptar' >Desencriptar</button>
        </div>

        <div>
          <output id='respuesta' ></output>
          <img id="sintexto" >
          <button id='copiar'>Copiar Texto</button>
        </div>  

        <script>
            var input = document.getElementById('texto');
            var botonEncriptar = document.getElementById('encriptar');
            var botonDesencriptar = document.getElementById('desencriptar');
            var botonCopiarTexto = document.getElementById('copiar');

            function encriptar(){
                input.value = input.value
                .replace(/e/ig,'enter')
                .replace(/i/ig,'imes')
                .replace(/a/ig,'ai')
                .replace(/o/ig,'ober')
                .replace(/u/ig,'ufat');

                output = input ;
                document.getElementById('respuesta').innerText = output.value ;
                input.value = '';  
                textoVacio();    
            }

            function desencriptar(){
                input.value = input.value 
                .replace(/ufat/ig,'u')
                .replace(/ober/ig,'o')
                .replace(/ai/ig,'a')
                .replace(/imes/ig,'i')
                .replace(/enter/ig,'e');

                output = input ;
                document.getElementById('respuesta').innerText = output.value ;
                input.value = ''; 
                textoVacio();  
            }

            function hacercopia(){
               navigator.clipboard.writeText(document.getElementById('respuesta').value);   
            }
            
            function textoVacio(){
                var vacio = document.getElementById('respuesta');
                var img = document.getElementById('sintexto');
                if(vacio.value == ''){
                    vacio = document.getElementById('respuesta').innerText = 'Todavia no hay ningun mensaje.';
                    img.src = 'images/muñeco.png';
                } else {
                    img.src = ''; 
                 }
            }

           botonEncriptar.onclick = encriptar;
           botonDesencriptar.onclick = desencriptar;
           botonCopiarTexto.onclick = hacercopia;
           textoVacio();
        </script>
    </body>
</html>
